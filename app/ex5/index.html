<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Exercice 5</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>
<body ng-app="app">
<div class="row" ng-controller="main.controller.first as firstCtl">
    <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-primary">
            <div class="panel-heading text-center">
                {{ 'CURRENT_TIME' | translate:{currentHour:firstCtl.currentHour, currentDate:firstCtl.currentDate} }}
            </div>
            <div class="panel-body text-center">
                <form class="form-horizontal" novalidate name="firstCtl.cityForm" ng-submit="firstCtl.getWeather()">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">{{ 'CITY' | translate }}</label>
                        <div class="col-sm-10">
                            <input class="form-control" placeholder="{{ 'CITY_PLACEHOLDER' | translate }}" type="text" ng-model="firstCtl.weatherFct.cityName" name="cityName" minlength="3" required ng-pattern="/^[A-Z][a-z]+$/">
                        </div>
                    </div>
                    <ng-messages for="firstCtl.cityForm.cityName.$error" ng-if="firstCtl.cityForm.$submitted">
                        <ng-message when="required">{{ 'ERROR_REQUIRED' | translate }}</ng-message>
                        <ng-message when="minlength">{{ 'ERROR_MINLENGTH' | translate }}</ng-message>
                        <ng-message when="pattern">{{ 'ERROR_PATTERN' | translate }}</ng-message>
                    </ng-messages>
                    <div class="form-group">
                        <button class="btn btn-primary" type="submit">{{ 'SUBMIT' | translate }}</button>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-danger" type="button" ng-click="firstCtl.openModal('lg')">{{ 'CHANGE_LANGUAGE' | translate }}</button>
                    </div>
            </div>
            <div ng-show="firstCtl.errorMsg">Error : {{ firstCtl.errorMsg}}</div>
            <div class="panel-footer text-center">
                <img ng-show="firstCtl.weatherFct.imgUrl" ng-src="{{firstCtl.weatherFct.imgUrl}}" />
                <h4 ng-show="firstCtl.weatherFct.temperature">{{ firstCtl.weatherFct.temperature }} Â°C</h4>
                <h4 ng-show="firstCtl.weatherFct.windSpeed">{{ firstCtl.weatherFct.windSpeed }} km/h</h4>
            </div>

        </div>
    </div>
</div>
<ng-include src="modules/modal/templates/language.html"></ng-include>


<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular-animate.min.js"></script>
<script src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.1.2.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-messages.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-translate/2.9.0/angular-translate.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/locale/fr.js"></script>
<script src="https://cdn.jsdelivr.net/angular.moment/1.0.0-beta.3/angular-moment.min.js"></script>

<script src="modules/modal/index.js"></script>
<script src="modules/modal/controllers/language.js"></script>
<script src="modules/modal/services/modal.js"></script>


<script src="modules/i18n/index.js"></script>
<script src="modules/i18n/constants/i18n.js"></script>
<script src="modules/i18n/configs/i18n.js"></script>
<script src="modules/i18n/factories/i18n.js"></script>

<script src="modules/api/index.js"></script>
<script src="modules/api/constants/api.js"></script>
<script src="modules/api/services/request.js"></script>

<script src="modules/main/index.js"></script>
<script src="modules/main/factories/weather.js"></script>
<script src="modules/main/controllers/first.js"></script>

<script src="modules/app/index.js"></script>
</body>
</html>
